const btn=document.getElementById("authBtn"),formValid=!1,pass=document.getElementById("password"),phone=document.getElementById("phone"),email=document.getElementById("email"),plan=document.getElementById("plan"),first=document.getElementById("first"),middle=document.getElementById("middle"),last=document.getElementById("last"),country=document.getElementById("country"),code=document.getElementById("code"),terms=document.getElementById("terms"),isPasswordSecure=e=>{return new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})").test(e.value)},isValid=e=>e.value.length>0||e.value?(showSuccess(e),!0):(showError(e,"Must not be empty"),!1),isValidSelect=e=>e.value?(showSuccess(e),!0):(showError(e,"Must not be empty"),!1),isValidTerm=e=>"on"===e.value?(showSuccess(e),!0):(showError(e,"You must agree with terms"),!1),isValidPhone=e=>e.value.length>5&&validPhone(e.value)?(showSuccess(e),!0):(showError(e,"its not a valid number"),!1),checkPassword=e=>isPasswordSecure(e)?(showSuccess(e),!0):(showError(e,"Invalid Password password must be a combination of Special Characters [@*#], numbers, small and  Capital Letters and 8 characters long"),!1),checkEmail=e=>isEmailValid(e)?(showSuccess(e),!0):(showError(e,"Invalid Email"),!1),validPhone=e=>{return/^[+]?[(]?[0-9]{3}[)]?[-\s.]?[0-9]{3}[-\s.]?[0-9]{4,6}$/im.test(e)},checkName=e=>e.value.length>2?(showSuccess(e),!0):(showError(e,"Minimum length is 2 characters"),!1),isEmailValid=e=>{return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.value)},isRequired=e=>""!==e,showSuccess=e=>{const t=e.nextElementSibling;t&&"terms"!==e.name&&(e.parentNode.removeChild(t),e.parentNode.style.border="2px solid  #5cd993"),t&&"terms"===e.name&&(e.parentNode.style.border="none")},showError=(e,t)=>{const s=e.nextElementSibling;if(s)s.innerText=t,e.parentNode.style.border="none";else{const s=document.createElement("small");s.classList.add("form-error"),s.innerText=t,e.parentNode.appendChild(s),e.parentNode.style.border="none"}},form=document.forms.signup;function formValidity(){let e=document.getElementById("small_error");if(!0===checkEmail(email)&&!0===isValidPhone(phone)&&!0===checkPassword(pass)&&!0===checkName(first)&&!0===checkName(middle)&&!0===checkName(last)&&!0===isValidSelect(plan)&&!0===isValidTerm(terms)&&!0===isValidSelect(country)&&!0===isValidSelect(code))btn.disabled=!1,e&&form.removeChild(e);else if(e)e.innerText="Please Make sure all the fields are filled";else{const e=document.createElement("small");e.id="small_error",e.innerText="Please Make sure all the fields are filled",form.appendChild(e)}}form.addEventListener("change",formValidity),form.addEventListener("input",e=>{switch(e.target.name){case"firstName":case"middleName":case"lastName":return checkName(e.target);case"email":return checkEmail(e.target);case"password":return checkPassword(e.target);case"country":return isValid(e.target);case"phone":return isValidPhone(e.target);case"plan":return isValid(e.target);case"terms":return isValidTerm(e.target);default:return!1}}),btn.disabled=!0;